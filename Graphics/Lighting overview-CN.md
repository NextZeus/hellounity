# 照明概述

为了计算3D对象的阴影，Unity需要知道落在其上的光的强度，方向和颜色。

![](https://docs.unity3d.com/uploads/Main/LightBasic.svg)

这些属性由场景中的Light对象提供。不同类型的光以不同的方式发射其分配的颜色; 有些灯可能随距离源的距离而减小，并且对从光源接收的光的角度有不同的规则。Unity中可用的不同类型的光源在[“光源类型”](https://docs.unity3d.com/Manual/Lighting.html)中有详细说明。

Unity可以以各种不同的方式计算复杂，高级的照明效果，每种适用于不同的用例。

## 选择照明技术

广义上说，Unity中的照明可以以某种方式被视为“实时”或“预先计算”，并且两种技术都可以组合使用来创建身临其境的场景照明。

在本节中，我们将简要介绍不同技术提供的机会，相对优势和个性化特征。

## 实时照明

默认情况下，Unity - 定向，点和点中的指示灯都是实时的。这意味着他们会直接向现场发光，并更新每一帧。随着灯光和GameObjects在场景中移动，照明将立即更新。这可以在场景和游戏视图中观察到。

实时灯光实时灯光的效果。请注意，阴影是完全黑色的，因为没有反弹光。只有落在聚光灯锥体内的表面才会受到影响。

实时照明是场景中照明对象的最基本的方式，对于照亮人物或其他可移动几何是有用的。

不幸的是，当他们自己使用时，Unity的实时灯光线不会反弹。为了使用全球照明等技术创造更逼真的场景，我们需要启用Unity的预计算照明解决方案。


## 烘烤的光照图

Unity可以计算复杂的静态照明效果（使用称为全局照明或GI的技术），并将其存储在称为光照贴图的参考纹理贴图中。该计算过程称为烘焙。

当烘焙光照贴图时，会计算光源对场景中静态物体的影响，并将结果写入贴在场景几何顶部的纹理，以产生照明效果。

![](https://docs.unity3d.com/uploads/GlobalIllumination/Lightmap.png)

左：一个简单的光照场景。 右：Unity生成的lightmap纹理。 注意如何捕获阴影和光信息。

这些光照片可以包括撞击表面的直射光和从场景中的其他物体或表面反射的间接光。这种照明纹​​理可以通过与对象的材质相关联的着色器与表面信息（如颜色（反照率）和浮雕（法线））一起使用。

使用烘烤照明，这些光照贴图在游戏过程中无法改变，因此被称为“静态”。实时指示灯可以叠加在一个被光照的场景之上，而不能自动地交替地改变光照贴图。

通过这种方式，我们可以将游戏中的灯光交付给潜在的性能提升，从而适应不太强大的硬件，如移动平台。

有关详细信息，请参阅[照明窗口参考](https://docs.unity3d.com/Manual/GlobalIllumination.html)和[使用预计算照明](https://docs.unity3d.com/Manual/UsingPrecomputedLighting.html)。

## 预计算实时全球照明

虽然静态光照不能对场景内的照明条件的变化做出反应，但预先计算的实时GI确实为我们提供了交互式更新复杂场景照明的技术。

通过这种方式，可以创建具有丰富的全局照明的光线环境，并具有反射光，实时响应照明变化。一个很好的例子就是一天中的时间 - 光源的位置和颜色随着时间的推移而变化。使用传统的烘烤照明，这是不可能的。

![](https://docs.unity3d.com/uploads/GlobalIllumination/timeofdaycycle.gif)

一个使用预计算实时GI的时间的简单例子。
为了在可播放的帧率中提供这些效果，我们需要将一些长时间的数字从实时进程转移到预先计算的数据。

预先计算将将游戏中发生的复杂光线行为计算出来的负担转移到当时间不再那么重要时可以计算出来的东西。我们称之为“离线”过程。

有关更多信息，请参阅[照明和渲染教程](http://unity3d.com/learn/tutorials/topics/graphics/unity-5-lighting-and-rendering?playlist=17102&_ga=2.171258147.2072518565.1503381887-1300961171.1497254613)。

## 福利和费用

虽然可以同时使用烘焙GI照明和预先计算的实时GI，但是请注意，同时渲染两个系统的性能成本恰好是它们的总和。我们不仅必须在视频存储器中存储两套光照贴图，还可以在着色器中支付解码的处理成本。

您可能希望选择一种照明方法的情况取决于您的项目的性质和您的预期硬件的性能。例如，在视频存储器和处理能力更受限制的移动设备上，有可能烘焙GI照明方法更加有效。在具有专用图形硬件的独立计算机或最近的游戏机上，很可能使用预计算实时GI或甚至同时使用这两个系统。

必须根据您的特定项目的性质和所需的目标平台来评估采用哪种方法的决策。请记住，当瞄准一系列不同的硬件时，通常它是最不经济的，将决定需要哪种方法。

参见：[光故障排除和性能](https://docs.unity3d.com/Manual/LightPerformance.html)